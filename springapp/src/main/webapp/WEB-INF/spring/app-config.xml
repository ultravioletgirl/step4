<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-3.0.xsd
       http://www.springframework.org/schema/mvc
       http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd">

	   <bean id="investmentFundManager" class="es.unileon.springapp.service.SimpleInvestmentFundManager">
         <property name="investmentFunds">
            <list>
                <ref bean="investmentFunds1"/>
                <ref bean="investmentFunds2"/>
            </list>
         </property>
       </bean>
       
       <bean id="clientManager" class="es.unileon.springapp.service.SimpleClientManager">
         <property name="client">
         	<ref bean="generalClient"/>
         </property>
       </bean>
       
       <bean id="id1" class="es.unileon.springapp.domain.handler.FundsHandler">
 		 <constructor-arg name = "fundName" type="java.lang.String" value = "Santander Global"/>
 		 <constructor-arg name = "fundManager" type="java.lang.String" value = "Banco Santander"/>
 		 <constructor-arg name = "fundType" type="java.lang.String" value = "Riesgo bajo-medio"/>
 		 <constructor-arg name = "fundShare" type="java.lang.Integer" value = "10391026"/>
 		 <constructor-arg name = "stockMarket" type="java.lang.String" value = "Santanderrrr"/>
 	   </bean>
 	   
 	   <bean id="id2" class="es.unileon.springapp.domain.handler.FundsHandler">
 		 <constructor-arg name = "fundName" type="java.lang.String" value = "Herrero Global"/>
 		 <constructor-arg name = "fundManager" type="java.lang.String" value = "Banco Herrero"/>
 		 <constructor-arg name = "fundType" type="java.lang.String" value = "Riesgo medio"/>
 		 <constructor-arg name = "fundShare" type="java.lang.Integer" value = "17024025"/>
 		 <constructor-arg name = "stockMarket" type="java.lang.String" value = "Herreroooo"/>
 	   </bean>
 	   
 	   <bean id="id3" class="es.unileon.springapp.domain.handler.FundsHandler">
 		 <constructor-arg name = "fundName" type="java.lang.String" value = "Herrero Globalwr"/>
 		 <constructor-arg name = "fundManager" type="java.lang.String" value = "Banco Herrerower"/>
 		 <constructor-arg name = "fundType" type="java.lang.String" value = "Riesgo medio"/>
 		 <constructor-arg name = "fundShare" type="java.lang.Integer" value = "17024025"/>
 		 <constructor-arg name = "stockMarket" type="java.lang.String" value = "Herrewerroooo"/>
 	   </bean>
 	   
 	   <bean id="fee" class="es.unileon.springapp.domain.fee.LinearFee">
 	      <constructor-arg name = "fee"  value="1.5"/>	  
 	      <constructor-arg name = "minimum" value="1.5"/>	  
 	   
 	   </bean>
 	   
 	   <bean id="cancellationFee1" class="es.unileon.springapp.domain.fee.LinearFee">
 		  <constructor-arg name = "fee"  value="1.5"/>	  
 	      <constructor-arg name = "minimum"  value="1.5"/>	
 	   </bean>

       <bean id="investmentFunds1" class="es.unileon.springapp.domain.InvestmentFund">
 		 <constructor-arg name = "id" ref= "id1" />
 		 <constructor-arg name = "amount" value="10"/>
 		 <constructor-arg name = "totalPrice" value="130"/>
 		 <constructor-arg name = "fee" ref="fee"/>
 		 <constructor-arg name = "cancellationFee" ref="cancellationFee1"/>	
 		 <constructor-arg name = "profitability" value="1.5"/>	  
 		 
       </bean>
        
       <bean id="investmentFunds2" class="es.unileon.springapp.domain.InvestmentFund">
 		 <constructor-arg name = "id" ref= "id2" />
 		 <constructor-arg name = "amount"  value="5"/>
 		 <constructor-arg name = "totalPrice" value="100"/>
 		 <constructor-arg name = "fee" ref="fee"/>
 		 <constructor-arg name = "cancellationFee" ref="cancellationFee1"/>	
 		 <constructor-arg name = "profitability"  value="1.5"/>	  
 		 
       </bean>
       
       <bean id="investmentFunds3" class="es.unileon.springapp.domain.InvestmentFund">
 		 <property name = "id" ref= "id3" />
 		 <property name = "amount"  value="10"/>
 		 <property name = "totalPrice" value="200"/>
 		 <property name = "purchasedAmount" value="4"/>
       </bean>
       
        <bean id="investmentPack" class="es.unileon.springapp.domain.InvestmentFundPack">
 		 <constructor-arg name = "product" ref= "investmentFunds3" />
 		 <constructor-arg name = "amount"  value="6"/>
 		   
       </bean>

       <bean id="generalClient" class="es.unileon.springapp.domain.Client">
         <property name="funds" >
            <list>
                <ref bean = "investmentPack"/>
            </list>
         </property>
       </bean>
       
       <bean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource">
         <property name="basename" value="messages"/>
       </bean>
       
       <!-- Scans the classpath of this application for @Components to deploy as beans -->
       <context:component-scan base-package="es.unileon.springapp.web" />

       <!-- Configures the @Controller programming model -->
       <mvc:annotation-driven/>

  	   <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
         <property name="viewClass" value="org.springframework.web.servlet.view.JstlView"></property>
         <property name="prefix" value="/WEB-INF/views/"></property>
         <property name="suffix" value=".jsp"></property>        
       </bean>
       
</beans>